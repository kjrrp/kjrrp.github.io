function initCarousel(e){let t=e.querySelectorAll(".carousel img"),i=e.querySelector(".carousel .prev"),l=e.querySelector(".carousel .next"),c=e.querySelectorAll(".thumbnails img"),a=e.querySelector(".thumbnails"),r=e.querySelector(".thumbnails-nav .prev-thumb"),s=e.querySelector(".thumbnails-nav .next-thumb"),n=0;function o(e){t.forEach((t,i)=>{t.classList.toggle("active",i===e)}),c.forEach((t,i)=>{t.classList.toggle("active",i===e)}),function e(t){let i=c[t],l=i.offsetLeft,r=i.clientWidth,s=a.clientWidth,n=l-s/2+r/2;n<0?a.scrollLeft=0:n>a.scrollWidth-s?a.scrollLeft=a.scrollWidth-s:a.scrollTo({left:n,behavior:"smooth"})}(e)}i.addEventListener("click",()=>{o(n=n>0?n-1:t.length-1)}),l.addEventListener("click",()=>{o(n=n<t.length-1?n+1:0)}),c.forEach(e=>{e.addEventListener("click",()=>{o(n=parseInt(e.getAttribute("data-index")))})}),document.addEventListener("click",function t(i){e.contains(i.target)||i.target.classList.contains("trigger-image")||e.classList.add("hidden")}),r.addEventListener("click",()=>{a.scrollBy({left:-(.8*a.clientWidth),behavior:"smooth"})}),s.addEventListener("click",()=>{a.scrollBy({left:.8*a.clientWidth,behavior:"smooth"})});let d,u,h,g;function v(e){"left"===e?l.click():"right"===e&&i.click()}e.addEventListener("touchstart",e=>{let t=e.touches[0];d=t.clientX,u=t.clientY}),e.addEventListener("touchend",e=>{let t=e.changedTouches[0];h=t.clientX,g=t.clientY;let i=h-d,l=g-u;Math.abs(i)>Math.abs(l)&&Math.abs(i)>30&&(i<0?v("left"):v("right"))}),a.addEventListener("touchstart",e=>{let t=e.touches[0];d=t.clientX}),a.addEventListener("touchend",e=>{let t=e.changedTouches[0];h=t.clientX;let i=h-d;Math.abs(i)>30&&(i<0?s.click():r.click())})}function initMonoCarousel(e){let t=e.querySelectorAll(".mono-carousel-images img"),i=0;function l(e){t.length&&t.forEach((t,i)=>t.classList.toggle("active",i===e))}let c;e.addEventListener("touchstart",e=>{c=e.touches[0].clientX}),e.addEventListener("touchend",e=>{let a=e.changedTouches[0].clientX;if(Math.abs(a-c)>30){var r;"left"==(r=a<c?"left":"right")?i=i<t.length-1?i+1:0:"right"===r&&(i=i>0?i-1:t.length-1),l(i)}}),l(i)}function handleClickOutside(e,t){t.contains(e.target)||e.target.classList.contains("trigger-image")||t.classList.add("hidden")}function initializeCarousels(){document.querySelectorAll(".carousel-container").forEach(e=>{let t=e.id,i=document.querySelector(`.trigger-image[data-carousel="${t}"]`);i&&(initCarousel(e),i.addEventListener("click",()=>{e.classList.remove("hidden"),e.querySelector(".carousel-images img.active")||e.querySelector(".carousel-images img")?.classList.add("active")}),document.addEventListener("click",t=>handleClickOutside(t,e)))}),document.querySelectorAll(".mono-carousel-container").forEach(e=>{let t=e.id,i=document.querySelector(`.trigger-image[data-carousel="${t}"]`);i&&(initMonoCarousel(e),i.addEventListener("click",()=>{e.classList.remove("hidden"),e.querySelector(".mono-carousel-images img.active")||e.querySelector(".mono-carousel-images img")?.classList.add("active")}),document.addEventListener("click",t=>handleClickOutside(t,e)))})}document.querySelectorAll(".carousel-container").forEach(e=>{let t=e.id,i=document.querySelector(`.trigger-image[data-carousel="${t}"]`);initCarousel(e),i.addEventListener("click",()=>{e.classList.remove("hidden"),e.querySelector(".carousel img.active")||e.querySelector(".carousel img").classList.add("active")})}),initializeCarousels();